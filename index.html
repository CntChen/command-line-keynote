<html>

<head>
  <title>Command Line, Save Your Life</title>
  <link rel="stylesheet" href="./reveal/css/reveal.css">
  <link rel="stylesheet" href="./reveal/css/theme/white.css">
  <style>
    .left {
      width: 50%;
      float: left;
    }
    
    .right {
      width: 50%;
      float: right;
    }
    
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      text-transform: none!important;
    }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section data-markdown>
        <script type="text/template">
          # Command Line, Save Your Life
          *å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·ä»‹ç»*

          **2017-06-30  [@CntChen](https://github.com/CntChen)**
        </script>
      </section>

      <section data-markdown>
        <script type="text/template">
          ## ç›®å½•
          * ç›¸å…³æ¦‚å¿µå’ŒèƒŒæ™¯
          * å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
          * ç»ˆç«¯ä½¿ç”¨æŠ€å·§
          * Shell è„šæœ¬
        </script>
      </section>

      <section>
        <section data-markdown>
          <script type="text/template">
              ## ç›¸å…³æ¦‚å¿µ
              * **å‘½ä»¤è¡Œç”¨æˆ·æ¥å£ (Command-line User Interface -- CLI)** <br/>
              ä¸€ç§ç”¨æˆ·ä¸è®¡ç®—æœºç¨‹åºçš„äº¤äº’æ–¹å¼ï¼Œç”¨æˆ·é€šè¿‡è¿ç»­çš„æ–‡æœ¬è¡Œå‘ç¨‹åºæäº¤æŒ‡ä»¤ï¼

              * **Shell** <br/>
              ä¸€ç§å°†æ–‡æœ¬è¯­å¥ä½œä¸ºå‘½ä»¤æ‰§è¡Œçš„ç¼–ç¨‹è¯­è¨€åŠæ‰§è¡Œå™¨(command-line interpreter).

              * **ç»ˆç«¯æ¨¡æ‹Ÿå™¨** <br/>
              Shell çš„å®¹å™¨ï¼Œé”®å…¥æ•°æ®ä¿¡æ¯å¹¶å±•ç¤ºæ•°æ®ç»“æœçš„ç¡¬ä»¶æˆ–è½¯ä»¶,æ”¯æŒå¤–è®¾,å­—ç¬¦æ ·å¼å’Œç¼–ç .
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## **å‘½ä»¤è¡Œçš„ä¼˜ç‚¹**
              * **æé«˜å·¥ä½œæ•ˆç‡** <br/>
              å‡å°‘ GUI æ“ä½œ <br/>
              å‡å°‘é‡å¤æ“ä½œ

              * **æ‹“å±•å‰ç«¯/ç§»åŠ¨å·¥ç¨‹å¸ˆçš„å¤–æ²¿** <br/>
              æ„å»ºç¯å¢ƒç»´æŠ¤ <br/>
              æœåŠ¡å™¨æ“ä½œ
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## **å¤‡æ³¨**
              * Unix ç±»çš„ç³»ç»Ÿ
              * åœ¨ Ubuntu 16.10 å¯å®‰è£…æˆ–è¿è¡Œ
              * <<é¸Ÿå“¥çš„ Linux ç§æˆ¿èœ -- åŸºç¡€å­¦ä¹ ç¯‡>>
              * åˆ†äº«ä»¥æ“ä½œæ¼”ç¤ºä¸ºä¸»
            </script>
        </section>
      </section>

      <section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              You know nothing â˜ƒï¸
              > XXX --help
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### ç›®å½•è·³è½¬
              #### cd (change directory)
              * cd ./floder/path
              * cd ../
              * cd ~
              * cd /
              * pwd (print working directory)
              * cd -
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### ç›®å½•è·³è½¬
              #### [autojump](https://github.com/wting/autojump)
              > a faster way to navigate your filesystem

              * j part-of-your-path-name
              * jc
              * jo, jco
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### åˆ›å»ºåˆ é™¤
              * touch
              * mkdir
              * rm -rf
              * mv ç§»åŠ¨æˆ–é‡å‘½å
              * cp -r
              * `cp -s target softlink` åˆ›å»ºè½¯é“¾æ¥

> $ sudo rm -rf ./ tmp

            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### æŸ¥çœ‹æŸ¥æ‰¾
              * **ls -al** å…¨éƒ¨æ–‡ä»¶å’Œæ–‡ä»¶å±æ€§
              * which å¯»æ‰¾å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®
              * whereis $PATH èŒƒå›´å†…çš„æ–‡ä»¶
              * locate å…¨æ–‡æŸ¥æ‰¾,åœ¨æ–‡ä»¶ç´¢å¼•æ•°æ®åº“ä¸­æŸ¥æ‰¾,å¿«,å…ˆè¿è¡Œ `sudo updatedb`
              * **du -sh**, du -ah
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### æŸ¥çœ‹æŸ¥æ‰¾ -- find
              * find -name PATTERN æŸ¥æ‰¾æ¨¡å¼åŒ¹é…çš„æ–‡ä»¶å
              * find -wholename PATTERN æŸ¥æ‰¾å¸¦è·¯å¾„çš„æ¨¡å¼åŒ¹é…çš„æ–‡ä»¶å
              * é€šé…ç¬¦å·
               * `*` 0åˆ°å¤šä¸ªå­—ç¬¦
               * ? åŒ¹é…ä»»æ„å­—ç¬¦
               * [list] listä¸­ä»»ä¸€å­—ç¬¦
               * ...

```php
$ find -name '*.tpl'
$ find -wholename '\*apply/\*.tpl' # \*è¡¨ç¤º`*`
```
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### æŸ¥çœ‹æŸ¥æ‰¾
              #### grep (global regular expression print)
              * **grep -rin** 
              * **grep -rin3**
              * Regexp

```
$ grep -rin 'webpack.'
$ find -wholename '*.tpl' | xargs grep -rin 'else if'
```
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### æ–‡æœ¬å¤„ç†
              ### sed
              * ç»ˆç«¯ä¸­çš„æ–‡æœ¬å¤„ç†å·¥å…·
              * å¢åˆ æ”¹

```
$ sed -i "s#ajaxStart#AjaxStart#g" ./src/pages/f7.js
```
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### è¿›ç¨‹ç®¡ç†
              * **ps aux** æŸ¥çœ‹è¿›ç¨‹,æ‰€æœ‰,æœ‰æ•ˆç”¨æˆ·,å¿½ç•¥ç»ˆç«¯è¿›ç¨‹
              * **kill -9 pid** æ€æ­»è¿›ç¨‹
              * top åŠ¨æ€æŸ¥çœ‹è¿›ç¨‹å˜åŒ–
              * free æŸ¥çœ‹å†…å­˜
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### ç½‘ç»œç®¡ç†
              * ping
              * netstat -lanp ç›‘å¬ä¸­,æ‰€æœ‰,ç«¯å£å·,è¿›ç¨‹pid
              * lsof -i PORT (list open files)

```
$ ping m-zl-st1.cfcmu.cn
PING m-zl-st1.cfcmu.cn (127.0.0.1) 56(84) bytes of data.
```
```
Error: listen EADDRINUSE 0.0.0.0:8080
$ netstat -lanp | grep '8080'
```
```
$ lsof -i :8080
```

            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## å¸¸ç”¨å‘½ä»¤è¡Œå·¥å…·
              ### ç¼–è¾‘å·¥å…· Vim
              * modes: navigation -- edit -- command 
              * Terminal
              * VS Code -- vscodevim
              * chrome extention -- Vimium
              * ğŸ™wtf -> ğŸ˜„survival -> ğŸ’ªgood
              * vimtutor
            </script>
        </section>
      </section>

      <section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### alias
              * git
              * rm 
              * vscode
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### alias

```
# rm -rf hack
alias rm=trash
alias rrm="/bin/rm"

trash(){
 /bin/rm -rf ~/.trash/$(echo $@ | sed -e "s/^.*\///")
 mv -f $@ ~/.trash/
}
```
            </script>
        </section>
        <section>
          <h2>ç»ˆç«¯ä½¿ç”¨æŠ€å·§</h2>
          <h3>alias -- å‘½ä»¤çº æ­£</h3>
          <img height="500" src="./sources/img/thefuck.jpg">
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### å¿«æ·é”®
              * set -o emacs/vi
              * ç¼–è¾‘å¯¼èˆª
              * jobs
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### zsh / oh-my-zsh
              * å¼ºå¤§çš„è‡ªåŠ¨è¡¥å…¨ (Command-line completion)
              * å‹å¥½çš„æç¤º Prompt Sign
              * theme and plugin
            </script>
        </section>
        <section>
          <h2>ç»ˆç«¯ä½¿ç”¨æŠ€å·§</h2>
          <h3>tmux</h3>
          <img height="500" src="./sources/img/tmux.png">
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### tmux
              * ç»ˆç«¯å†…çš„å¤šçª—å£
              * window and panel
              * åˆ†å±
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## ç»ˆç«¯ä½¿ç”¨æŠ€å·§
              ### åœ¨ VS Code ä¸­çš„ä½¿ç”¨
            </script>
        </section>
      </section>

      <section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
              ### if é€»è¾‘
```
# æŒ‡å®šåŠ¨æ€é“¾æ¥åº“,ç”¨äºæ„å»º jpeg
if [ $LD_LIBRARY_PATH ]; then
 export LD_LIBRARY_PATH=/opt/glibc-2.14/lib:$LD_LIBRARY_PATH
else
 export LD_LIBRARY_PATH=/opt/glibc-2.14/lib
fi
```
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
              ### å¤šé‡å‘½ä»¤ä¸å›ä¼ ç 

              > cmd1 ## cmd2

              * `||` å‘½ä»¤æˆ–
              * `&&` å‘½ä»¤ä¸
              * `;` è¿ç»­æ‰§è¡Œå‘½ä»¤
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
              ### å¤šé‡å‘½ä»¤å®ä¾‹
```
if build
then 
  send_log_to_git success || exit 0
else 
  send_log_to_git fail && exit 127
fi
```
```
const shellCommands = [
  `cd ${pathHere}`,
  `git add ./`,
  `git commit -m "${msg}"`,
  `git push`
  ].join(' && ');
```
```
$ cd no-eixt-folder; rm -rf ./
cd: no such file or directory: no-exit-folder
......
......
......^C
```
            </script>
        </section>
        <section>
          <h2>Shell è„šæœ¬</h2>
          <h3>rm äº‹æ•…</h3>
          <img height="500" src="./sources/img/gitlab-delete.png">
        </section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
              ### é‡å®šå‘
              * `1>` stdout è¦†ç›–è¾“å‡ºåˆ°æ–‡ä»¶
              * `1>>` stdout ç´¯åŠ è¾“å‡ºåˆ°æ–‡ä»¶
              * `2>` stderr è¦†ç›–è¾“å‡ºåˆ°æ–‡ä»¶
              * `2>>` stderr ç´¯åŠ è¾“å‡ºåˆ°æ–‡ä»¶
              * `&>`, `&>>`
              * `<` ä½¿ç”¨æ–‡ä»¶ä»£æ›¿é”®ç›˜è¾“å…¥

              > node server.js >> log.txt
            </script>
        </section>
        <section data-markdown>
          <script type="text/template">
              ## Shell è„šæœ¬
              ### ç®¡é“æ“ä½œ

```
$ ps aux | grep node
$ netstat -lanp | grep '8080'
$ find -wholename '*.tpl' | xargs grep 'elesif'
```
            </script>
        </section>
        <section data-markdown>
            <script type="text/template">
              ## Shell è„šæœ¬
              ### å¾ªç¯
```
for i in $(ls ../muapp)
do
  echo $i
  git clone ssh://git@git.mucfc.com:10022/muapp/${i}.git
  gco master
  gcb fix-ajax-bug
done
```
```
for i in $(ls ./)
do
  echo $i
  cd $i
  sed -i "s#ajaxStart#AjaxStart#g" ./src/pages/f7.js
  ga ./src/pages/f7.js
  git commit -m 'fixbug: ajax start hook bug'
  # git push -u origin fix-ajax-bug
  cd ..
done
```
            </script>
        </section>
      </section>

      <section>
        <h2>Q&A</h2>
      </section>
    </div>
  </div>
  <script src="./reveal/lib/js/head.min.js"></script>
  <script src="./reveal/js/reveal.js"></script>
  <script>
    Reveal.initialize({
      // Display a presentation progress bar
      progress: true,
      // Display the page number of the current slide
      slideNumber: true, 
      dependencies: 
      [
        {
          src: './reveal/plugin/markdown/marked.js', 
          condition: function() { 
            return !!document.querySelector( '[data-markdown]' ); 
          }
        },
        {
          src: './reveal/plugin/markdown/markdown.js', 
          condition: function() { 
            return !!document.querySelector( '[data-markdown]' ); 
          }
        },
        { src: './reveal/plugin/highlight/highlight.js',
        async: true,
        callback: function() { 
          hljs.initHighlightingOnLoad(); } 
        },    
      ],
    });
    Reveal.configure({ slideNumber: 'c/t' });
  </script>
</body>

</html>
